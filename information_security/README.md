# 情報セキュリティ用ノート

**Onion Routing**   
パケットの宛先・送信元を暗号化するといった技術  
Torが有名  
イメージとしてはパケットに対して、カプセル化を行うことによって宛先を秘匿する  
また、各ヘッダは暗号化され、各サーバごとに復号されていく仕組みである  
ユーザA→サーバA→サーバB→サーバC→ユーザB (サーバはランダムに選ばれる) 
{宛先: サーバA 送信元: ユーザA  
{宛先: サーバB 送信元: サーバA  
{宛先: サーバC 送信元: サーバB  
{宛先: ユーザB 送信元: ユーザA データパケット}}}}  
上から順にカプセル解除を行っていく  
サーバAが持っている秘密鍵によって復号することによって、次の宛先が分かる仕組みである  

**ステガノグラフィ**  
音声や画像に別の情報を埋め込み、隠蔽する技術  
本来はデータ改竄防止（電子透かし）などで使われるが、悪用されてしまうようになった  
手順としては以下の通りである
1. 標的型攻撃メールなどで添付ファイルに入れ込む
2. 受信者が添付ファイル（主にwordやexcel）をダウンロードして開く
3. 「マクロを有効にする」を行ってしまうと、画像に隠されたスクリプトが実行されてしまう
スクリプトからpowershellが実行され、攻撃者サーバからマルウェアがインストールされてしまう

**CAPTCHA**  
人間か機械かを判別するテストのこと(チューリングテスト)  
* 画像識別
* 文字列識別
* チェックボックス識別
reCAPTCHA→Googleが提供しているCAPTCHA  
v2とv3がある  
* v2
機械と判断したら、入り口を遮断するイメージ
* v3
人間も機械も通すが、人間度のようなスコアを決めて機械を弾く

```Python:captcha_image
user_a = 0.9 #人間度スコア
user_b = 0.3
border = 0.5 #人間か機械かの境界線
user_lists = [user_a, user_b]

for user in user_lists:
    if user > 0.5:
        print("Human")
    else:
        print("Machine")
```